{{- /*
Generated from 'alertmanager-overview' from https://raw.githubusercontent.com/prometheus-operator/kube-prometheus/main/manifests/grafana-dashboardDefinitions.yaml
Do not change in-place! In order to change this file first read following link:
https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack/hack
*/ -}}
{{- $kubeTargetVersion := default .Capabilities.KubeVersion.GitVersion .Values.kubeTargetVersionOverride }}
{{- if and (or .Values.grafana.enabled .Values.grafana.forceDeployDashboards) (semverCompare ">=1.14.0-0" $kubeTargetVersion) (semverCompare "<9.9.9-9" $kubeTargetVersion) .Values.grafana.defaultDashboardsEnabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: {{ template "kube-prometheus-stack-grafana.namespace" . }}
  name: {{ printf "%s-%s" (include "kube-prometheus-stack.fullname" $) "app-perfoemance-monitoring" | trunc 63 | trimSuffix "-" }}
  annotations:
{{ toYaml .Values.grafana.sidecar.dashboards.annotations | indent 4 }}
  labels:
    {{- if $.Values.grafana.sidecar.dashboards.label }}
    {{ $.Values.grafana.sidecar.dashboards.label }}: {{ ternary $.Values.grafana.sidecar.dashboards.labelValue "1" (not (empty $.Values.grafana.sidecar.dashboards.labelValue)) | quote }}
    {{- end }}
    app: {{ template "kube-prometheus-stack.name" $ }}-grafana
{{ include "kube-prometheus-stack.labels" $ | indent 4 }}
data:
  app-performance-monitoring.json: |-
                      {
                        "annotations": {
                          "list": [
                            {
                              "builtIn": 1,
                              "datasource": "-- Grafana --",
                              "enable": true,
                              "hide": true,
                              "iconColor": "rgba(0, 211, 255, 1)",
                              "name": "Annotations & Alerts",
                              "target": {
                                "limit": 100,
                                "matchAny": false,
                                "tags": [],
                                "type": "dashboard"
                              },
                              "type": "dashboard"
                            }
                          ]
                        },
                        "description": "Kubernetes deployments overview dashboard",
                        "editable": true,
                        "fiscalYearStartMonth": 0,
                        "gnetId": 5930,
                        "graphTooltip": 1,
                        "id": 348,
                        "iteration": 1689576283357,
                        "links": [],
                        "liveNow": false,
                        "panels": [
                          {
                            "datasource": {
                              "type": "prometheus",
                              "uid": "prometheus"
                            },
                            "fieldConfig": {
                              "defaults": {
                                "color": {
                                  "mode": "thresholds"
                                },
                                "mappings": [
                                  {
                                    "id": 0,
                                    "op": "=",
                                    "text": "N/A",
                                    "type": 1,
                                    "value": "null"
                                  }
                                ],
                                "max": 100,
                                "min": 0,
                                "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                    {
                                      "color": "green",
                                      "value": null
                                    },
                                    {
                                      "color": "red",
                                      "value": 80
                                    }
                                  ]
                                },
                                "unit": "none"
                              },
                              "overrides": []
                            },
                            "gridPos": {
                              "h": 5,
                              "w": 4,
                              "x": 0,
                              "y": 0
                            },
                            "id": 8,
                            "links": [],
                            "options": {
                              "orientation": "horizontal",
                              "reduceOptions": {
                                "calcs": [
                                  "mean"
                                ],
                                "fields": "",
                                "values": false
                              },
                              "showThresholdLabels": false,
                              "showThresholdMarkers": true
                            },
                            "pluginVersion": "8.3.3",
                            "targets": [
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "prometheus"
                                },
                                "exemplar": true,
                                "expr": "sum(rate(container_cpu_usage_seconds_total{namespace=\"$deployment_namespace\",pod=~\"$deployment_name.*\"}[3m])) ",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "",
                                "refId": "A",
                                "step": 600
                              }
                            ],
                            "title": "CPU",
                            "type": "gauge"
                          },
                          {
                            "datasource": {
                              "type": "prometheus",
                              "uid": "prometheus"
                            },
                            "fieldConfig": {
                              "defaults": {
                                "color": {
                                  "mode": "thresholds"
                                },
                                "mappings": [
                                  {
                                    "id": 0,
                                    "op": "=",
                                    "text": "N/A",
                                    "type": 1,
                                    "value": "null"
                                  }
                                ],
                                "max": 100,
                                "min": 0,
                                "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                    {
                                      "color": "green",
                                      "value": null
                                    },
                                    {
                                      "color": "red",
                                      "value": 80
                                    }
                                  ]
                                },
                                "unit": "none"
                              },
                              "overrides": []
                            },
                            "gridPos": {
                              "h": 5,
                              "w": 4,
                              "x": 4,
                              "y": 0
                            },
                            "id": 9,
                            "links": [],
                            "options": {
                              "orientation": "horizontal",
                              "reduceOptions": {
                                "calcs": [
                                  "mean"
                                ],
                                "fields": "",
                                "values": false
                              },
                              "showThresholdLabels": false,
                              "showThresholdMarkers": true
                            },
                            "pluginVersion": "8.3.3",
                            "targets": [
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "prometheus"
                                },
                                "exemplar": true,
                                "expr": "sum(container_memory_usage_bytes{namespace=\"$deployment_namespace\",pod=~\"$deployment_name.*\"}) / 1024^3",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "",
                                "refId": "A",
                                "step": 600
                              }
                            ],
                            "title": "Memory",
                            "type": "gauge"
                          },
                          {
                            "datasource": {
                              "type": "prometheus",
                              "uid": "prometheus"
                            },
                            "fieldConfig": {
                              "defaults": {
                                "color": {
                                  "mode": "thresholds"
                                },
                                "mappings": [
                                  {
                                    "id": 0,
                                    "op": "=",
                                    "text": "N/A",
                                    "type": 1,
                                    "value": "null"
                                  }
                                ],
                                "max": 100,
                                "min": 0,
                                "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                    {
                                      "color": "green",
                                      "value": null
                                    },
                                    {
                                      "color": "red",
                                      "value": 80
                                    }
                                  ]
                                },
                                "unit": "Bps"
                              },
                              "overrides": []
                            },
                            "gridPos": {
                              "h": 5,
                              "w": 4,
                              "x": 8,
                              "y": 0
                            },
                            "id": 7,
                            "links": [],
                            "options": {
                              "orientation": "auto",
                              "reduceOptions": {
                                "calcs": [
                                  "lastNotNull"
                                ],
                                "fields": "",
                                "values": false
                              },
                              "showThresholdLabels": false,
                              "showThresholdMarkers": true
                            },
                            "pluginVersion": "8.3.3",
                            "targets": [
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "prometheus"
                                },
                                "exemplar": true,
                                "expr": "sum(rate(container_network_transmit_bytes_total{namespace=\"$deployment_namespace\",pod=~\"$deployment_name.*\"}[3m])) + sum(rate(container_network_receive_bytes_total{namespace=\"$deployment_namespace\",pod=~\"$deployment_name.*\"}[3m])) ",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "",
                                "refId": "A",
                                "step": 600
                              }
                            ],
                            "title": "Network",
                            "type": "gauge"
                          },
                          {
                            "datasource": {
                              "type": "prometheus",
                              "uid": "prometheus"
                            },
                            "fieldConfig": {
                              "defaults": {
                                "color": {
                                  "mode": "palette-classic"
                                },
                                "custom": {
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 10,
                                  "gradientMode": "hue",
                                  "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                  },
                                  "lineInterpolation": "smooth",
                                  "lineWidth": 1,
                                  "pointSize": 6,
                                  "scaleDistribution": {
                                    "type": "linear"
                                  },
                                  "showPoints": "always",
                                  "spanNulls": true,
                                  "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                    "mode": "off"
                                  }
                                },
                                "links": [],
                                "mappings": [],
                                "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                    {
                                      "color": "green",
                                      "value": null
                                    },
                                    {
                                      "color": "red",
                                      "value": 80
                                    }
                                  ]
                                },
                                "unit": "none"
                              },
                              "overrides": []
                            },
                            "gridPos": {
                              "h": 5,
                              "w": 12,
                              "x": 12,
                              "y": 0
                            },
                            "id": 1,
                            "links": [],
                            "options": {
                              "legend": {
                                "calcs": [],
                                "displayMode": "list",
                                "placement": "bottom"
                              },
                              "tooltip": {
                                "mode": "single"
                              }
                            },
                            "pluginVersion": "8.3.3",
                            "targets": [
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "prometheus"
                                },
                                "exemplar": true,
                                "expr": "max(kube_deployment_status_replicas{deployment=\"$deployment_name\",namespace=\"$deployment_namespace\"}) without (instance, pod)",
                                "format": "time_series",
                                "hide": false,
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "current replicas",
                                "refId": "A",
                                "step": 30
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "prometheus"
                                },
                                "exemplar": true,
                                "expr": "min(kube_deployment_status_replicas_available{deployment=\"$deployment_name\",namespace=\"$deployment_namespace\"}) without (instance, pod)",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "available",
                                "refId": "B",
                                "step": 30
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "prometheus"
                                },
                                "exemplar": true,
                                "expr": "max(kube_deployment_status_replicas_unavailable{deployment=\"$deployment_name\",namespace=\"$deployment_namespace\"}) without (instance, pod)",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "unavailable",
                                "refId": "C",
                                "step": 30
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "prometheus"
                                },
                                "exemplar": true,
                                "expr": "min(kube_deployment_status_replicas_updated{deployment=\"$deployment_name\",namespace=\"$deployment_namespace\"}) without (instance, pod)",
                                "format": "time_series",
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "updated",
                                "refId": "D",
                                "step": 30
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "prometheus"
                                },
                                "exemplar": true,
                                "expr": "max(kube_deployment_spec_replicas{deployment=\"$deployment_name\",namespace=\"$deployment_namespace\"}) without (instance, pod)",
                                "format": "time_series",
                                "instant": false,
                                "interval": "",
                                "intervalFactor": 2,
                                "legendFormat": "desired",
                                "refId": "E",
                                "step": 30
                              }
                            ],
                            "title": "Pods",
                            "type": "timeseries"
                          },
                          {
                            "collapsed": false,
                            "gridPos": {
                              "h": 1,
                              "w": 24,
                              "x": 0,
                              "y": 5
                            },
                            "id": 17,
                            "panels": [],
                            "title": "Traffic Overview",
                            "type": "row"
                          },
                          {
                            "datasource": {
                              "type": "prometheus",
                              "uid": "6oCJLmYnz"
                            },
                            "fieldConfig": {
                              "defaults": {
                                "color": {
                                  "mode": "palette-classic"
                                },
                                "custom": {
                                  "axisGridShow": false,
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 0,
                                  "gradientMode": "opacity",
                                  "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                  },
                                  "lineInterpolation": "linear",
                                  "lineWidth": 1,
                                  "pointSize": 5,
                                  "scaleDistribution": {
                                    "type": "linear"
                                  },
                                  "showPoints": "never",
                                  "spanNulls": true,
                                  "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                    "mode": "off"
                                  }
                                },
                                "mappings": [],
                                "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                    {
                                      "color": "green",
                                      "value": null
                                    },
                                    {
                                      "color": "red",
                                      "value": 80
                                    }
                                  ]
                                }
                              },
                              "overrides": []
                            },
                            "gridPos": {
                              "h": 7,
                              "w": 9,
                              "x": 0,
                              "y": 6
                            },
                            "id": 11,
                            "options": {
                              "legend": {
                                "calcs": [],
                                "displayMode": "list",
                                "placement": "bottom"
                              },
                              "tooltip": {
                                "mode": "single"
                              }
                            },
                            "pluginVersion": "8.3.3",
                            "targets": [
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "exemplar": true,
                                "expr": "sum(irate(kong_http_status{service=\"$deployment_name\"}[1m]))",
                                "interval": "",
                                "legendFormat": "Requests/second",
                                "refId": "A"
                              }
                            ],
                            "title": "Total requests per second (RPS)",
                            "type": "timeseries"
                          },
                          {
                            "datasource": {
                              "type": "prometheus",
                              "uid": "6oCJLmYnz"
                            },
                            "fieldConfig": {
                              "defaults": {
                                "color": {
                                  "mode": "palette-classic"
                                },
                                "custom": {
                                  "axisGridShow": false,
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 0,
                                  "gradientMode": "opacity",
                                  "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                  },
                                  "lineInterpolation": "linear",
                                  "lineWidth": 1,
                                  "pointSize": 5,
                                  "scaleDistribution": {
                                    "type": "linear"
                                  },
                                  "showPoints": "never",
                                  "spanNulls": true,
                                  "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                    "mode": "off"
                                  }
                                },
                                "links": [],
                                "mappings": [],
                                "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                    {
                                      "color": "green",
                                      "value": null
                                    }
                                  ]
                                },
                                "unit": "short"
                              },
                              "overrides": [
                                {
                                  "matcher": {
                                    "id": "byName",
                                    "options": "p80-"
                                  },
                                  "properties": [
                                    {
                                      "id": "color",
                                      "value": {
                                        "fixedColor": "green",
                                        "mode": "fixed"
                                      }
                                    }
                                  ]
                                }
                              ]
                            },
                            "gridPos": {
                              "h": 7,
                              "w": 15,
                              "x": 9,
                              "y": 6
                            },
                            "id": 13,
                            "options": {
                              "legend": {
                                "calcs": [],
                                "displayMode": "list",
                                "placement": "bottom"
                              },
                              "tooltip": {
                                "mode": "single"
                              }
                            },
                            "pluginVersion": "8.3.3",
                            "targets": [
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "exemplar": true,
                                "expr": "histogram_quantile(0.80, sum(rate(kong_latency_bucket{type=\"kong\", service =~ \"$deployment_name\"}[1m])) by (service,le))",
                                "interval": "",
                                "legendFormat": "p80-{${deployment_name}}",
                                "refId": "A"
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "exemplar": true,
                                "expr": "histogram_quantile(0.90, sum(rate(kong_latency_bucket{type=\"kong\", service =~ \"$deployment_name\"}[1m])) by (service,le))",
                                "interval": "",
                                "legendFormat": "p90-{${deployment_name}}",
                                "refId": "B"
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "expr": "histogram_quantile(0.99, sum(rate(kong_latency_bucket{type=\"kong\", service =~ \"$deployment_name\"}[1m])) by (service,le))",
                                "legendFormat": "p99-{${deployment_name}}",
                                "refId": "C"
                              }
                            ],
                            "title": "Response Time",
                            "type": "timeseries"
                          },
                          {
                            "datasource": {
                              "type": "prometheus",
                              "uid": "6oCJLmYnz"
                            },
                            "fieldConfig": {
                              "defaults": {
                                "color": {
                                  "mode": "palette-classic"
                                },
                                "custom": {
                                  "axisGridShow": false,
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 14,
                                  "gradientMode": "opacity",
                                  "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                  },
                                  "lineInterpolation": "linear",
                                  "lineWidth": 1,
                                  "pointSize": 5,
                                  "scaleDistribution": {
                                    "type": "linear"
                                  },
                                  "showPoints": "never",
                                  "spanNulls": true,
                                  "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                    "mode": "off"
                                  }
                                },
                                "links": [],
                                "mappings": [],
                                "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                    {
                                      "color": "green",
                                      "value": null
                                    },
                                    {
                                      "color": "red",
                                      "value": 99
                                    }
                                  ]
                                },
                                "unit": "short"
                              },
                              "overrides": []
                            },
                            "gridPos": {
                              "h": 6,
                              "w": 24,
                              "x": 0,
                              "y": 13
                            },
                            "id": 15,
                            "interval": "",
                            "options": {
                              "legend": {
                                "calcs": [],
                                "displayMode": "list",
                                "placement": "bottom"
                              },
                              "tooltip": {
                                "mode": "single"
                              }
                            },
                            "pluginVersion": "8.3.3",
                            "targets": [
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "exemplar": true,
                                "expr": "histogram_quantile(0.90, sum(rate(kong_latency_bucket{type=\"request\", service =~ \"$deployment_name\"}[1m])) by (service,le))",
                                "interval": "",
                                "legendFormat": "p90-{${$deployment_name}}",
                                "refId": "A"
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "expr": "histogram_quantile(0.95, sum(rate(kong_latency_bucket{type=\"request\", service =~ \"$deployment_name\"}[1m])) by (service,le))",
                                "legendFormat": "p95-{${$deployment_name}}",
                                "refId": "B"
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "expr": "histogram_quantile(0.99, sum(rate(kong_latency_bucket{type=\"request\", service =~ \"$deployment_name\"}[1m])) by (service,le))",
                                "hide": false,
                                "legendFormat": "p99-{${$deployment_name}}",
                                "refId": "C"
                              }
                            ],
                            "title": "Request time per service",
                            "type": "timeseries"
                          },
                          {
                            "datasource": {
                              "type": "prometheus",
                              "uid": "6oCJLmYnz"
                            },
                            "fieldConfig": {
                              "defaults": {
                                "color": {
                                  "mode": "palette-classic"
                                },
                                "custom": {
                                  "axisGridShow": false,
                                  "axisLabel": "",
                                  "axisPlacement": "auto",
                                  "barAlignment": 0,
                                  "drawStyle": "line",
                                  "fillOpacity": 14,
                                  "gradientMode": "opacity",
                                  "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                  },
                                  "lineInterpolation": "linear",
                                  "lineWidth": 1,
                                  "pointSize": 5,
                                  "scaleDistribution": {
                                    "type": "linear"
                                  },
                                  "showPoints": "never",
                                  "spanNulls": true,
                                  "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                  },
                                  "thresholdsStyle": {
                                    "mode": "off"
                                  }
                                },
                                "links": [],
                                "mappings": [],
                                "thresholds": {
                                  "mode": "absolute",
                                  "steps": [
                                    {
                                      "color": "green",
                                      "value": null
                                    },
                                    {
                                      "color": "red",
                                      "value": 80
                                    }
                                  ]
                                },
                                "unit": "short"
                              },
                              "overrides": []
                            },
                            "gridPos": {
                              "h": 8,
                              "w": 24,
                              "x": 0,
                              "y": 19
                            },
                            "id": 19,
                            "options": {
                              "legend": {
                                "calcs": [],
                                "displayMode": "list",
                                "placement": "bottom"
                              },
                              "tooltip": {
                                "mode": "single"
                              }
                            },
                            "pluginVersion": "8.3.3",
                            "targets": [
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "expr": "histogram_quantile(0.90, sum(rate(kong_latency_bucket{type=\"upstream\", service =~ \"$deployment_name\"}[1m])) by (service,le))",
                                "legendFormat": "p90-{${$deployment_name}}",
                                "refId": "A"
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "expr": "histogram_quantile(0.95, sum(rate(kong_latency_bucket{type=\"upstream\", service =~ \"$deployment_name\"}[1m])) by (service,le))",
                                "hide": false,
                                "legendFormat": "p95-{${$deployment_name}}",
                                "refId": "B"
                              },
                              {
                                "datasource": {
                                  "type": "prometheus",
                                  "uid": "6oCJLmYnz"
                                },
                                "expr": "histogram_quantile(0.99, sum(rate(kong_latency_bucket{type=\"upstream\", service =~ \"$deployment_name\"}[1m])) by (service,le))",
                                "legendFormat": "p99-{${$deployment_name}}",
                                "refId": "C"
                              }
                            ],
                            "title": "Upstream time",
                            "type": "timeseries"
                          }
                        ],
                        "refresh": false,
                        "schemaVersion": 34,
                        "style": "dark",
                        "tags": [
                          "Freemium_App_Monitoring"
                        ],
                        "templating": {
                          "list": [
                            {
                              "allValue": ".*",
                              "current": {
                                "selected": false,
                                "text": "production",
                                "value": "production"
                              },
                              "datasource": {
                                "type": "prometheus",
                                "uid": "prometheus"
                              },
                              "definition": "label_values(kube_deployment_metadata_generation, namespace)",
                              "hide": 2,
                              "includeAll": false,
                              "label": "Namespace",
                              "multi": false,
                              "name": "deployment_namespace",
                              "options": [],
                              "query": {
                                "query": "label_values(kube_deployment_metadata_generation, namespace)",
                                "refId": "StandardVariableQuery"
                              },
                              "refresh": 1,
                              "regex": "/.*production.*/",
                              "skipUrlSync": false,
                              "sort": 0,
                              "tagsQuery": "",
                              "type": "query",
                              "useTags": false
                            },
                            {
                              "current": {
                                "selected": false,
                                "text": "content-detail",
                                "value": "content-detail"
                              },
                              "datasource": {
                                "type": "prometheus",
                                "uid": "prometheus"
                              },
                              "definition": "label_values(kube_deployment_metadata_generation{namespace=\"$deployment_namespace\"}, deployment)",
                              "hide": 0,
                              "includeAll": false,
                              "label": "Application",
                              "multi": false,
                              "name": "deployment_name",
                              "options": [],
                              "query": {
                                "query": "label_values(kube_deployment_metadata_generation{namespace=\"$deployment_namespace\"}, deployment)",
                                "refId": "StandardVariableQuery"
                              },
                              "refresh": 1,
                              "regex": "",
                              "skipUrlSync": false,
                              "sort": 0,
                              "tagValuesQuery": "",
                              "type": "query",
                              "useTags": false
                            }
                          ]
                        },
                        "time": {
                          "from": "now-1h",
                          "to": "now"
                        },
                        "timepicker": {
                          "refresh_intervals": [
                            "5s",
                            "10s",
                            "30s",
                            "1m",
                            "5m",
                            "15m",
                            "30m",
                            "1h",
                            "2h",
                            "1d"
                          ],
                          "time_options": [
                            "5m",
                            "15m",
                            "1h",
                            "6h",
                            "12h",
                            "24h",
                            "2d",
                            "7d",
                            "30d"
                          ]
                        },
                        "timezone": "browser",
                        "title": "App Performance Monitoring",
                        "uid": "YXxSNAM7k1234",
                        "version": 26,
                        "weekStart": ""
                      }
{{- end }}